# 数据库
数据库分为四张表：用户、镜像、容器、机器
## 用户
字段包含：id(主键，递增)，账号(account)，昵称(nickname,可选)，密码(password,实际上是密码的哈希值，字符串)，邮箱（可选），手机（可选）
## 镜像
字段包含：id(主键，递增)，镜像名(含tag)，镜像描述，显示名称，创建参数（字典）
## 容器
字段包含：id(主键，递增)，容器名，显示名称，机器id，镜像id，端口，用户id，状态（bool）
## 机器
字段包含：id(主键，递增，由GPU服务器给出)，ip，gpu，硬盘情况，内存情况，cpu情况，状态（bool）,url



# 镜像管理
主服务器负责构建容器并充当镜像仓库，镜像仓库使用docker registry搭建
在主服务器上运行：
```
docker run -d -p [port]:5000 --restart=always --name registry -v /path/to/save:/var/lib/registry registry
```
在主服务器上构建镜像：
```
docker build -t 127.0.0.1:[port]/[镜像名]:[tag] .
```
在主服务器上推送镜像：
```
docker push 127.0.0.1:[port]/[镜像名]:[tag]
```
在主服务器上删除镜像以减少空间占用,除非主服务器也是GPU服务器那就不要删除：
```
docker rmi 127.0.0.1:[port]/[镜像名]:[tag]
```

# docker 需要的功能
## 1. 创建容器
### 1.1 创建参数
## 2. 删除/停止/启动容器
## 3. 容器打包成镜像
## 4. 镜像推送到镜像仓库
## 5. 镜像从镜像仓库拉取
## 6. 构建镜像（主控制节点）
## 7. 删除镜像
## 8. 查询镜像/容器